<div class="container">
  <div class="form-card">
    <div class="form-header">
      <h2>{{ pedido.id ? 'Editar Pedido' : 'Novo Pedido' }}</h2>
    </div>
    <div class="form-body">
      <form (ngSubmit)="salvar()" #pedidoForm="ngForm" novalidate>

        <!-- Cliente -->
        <div class="form-group">
          <label for="cliente">Cliente</label>
          <input type="text" id="cliente" [(ngModel)]="pedido.cliente.id" name="cliente" required
                 class="form-control"
                 [ngClass]="{'is-invalid': pedidoForm.submitted && !pedido.cliente.id}">
          <div *ngIf="pedidoForm.submitted && !pedido.cliente?.id" class="invalid-feedback">
            O cliente é obrigatório.
          </div>
        </div>

        <!-- Data Pedido -->
        <div class="form-group">
          <label for="dataPedido">Data do Pedido</label>
          <input type="date" id="dataPedido" [(ngModel)]="pedido.dataPedido" name="dataPedido" required
                 class="form-control"
                 [ngClass]="{'is-invalid': pedidoForm.submitted && !pedido.dataPedido}">
          <div *ngIf="pedidoForm.submitted && !pedido.dataPedido" class="invalid-feedback">
            A data do pedido é obrigatória.
          </div>
        </div>

        <!-- Valor Total -->
        <div class="form-group">
          <label for="valorTotal">Valor Total</label>
          <input type="number" id="valorTotal" [(ngModel)]="pedido.valorTotal" name="valorTotal" required
                 class="form-control"
                 [ngClass]="{'is-invalid': pedidoForm.submitted && !pedido.valorTotal}">
          <div *ngIf="pedidoForm.submitted && !pedido.valorTotal" class="invalid-feedback">
            O valor total é obrigatório.
          </div>
        </div>

        <!-- Status Pedido -->
        <div class="form-group">
          <label for="statusPedido">Status</label>
          <select id="statusPedido" [(ngModel)]="pedido.statusPedido" name="statusPedido" required
                  class="form-control"
                  [ngClass]="{'is-invalid': pedidoForm.submitted && !pedido.statusPedido}">
            <option *ngFor="let status of statusPedidos" [value]="status">{{ status }}</option>
          </select>
          <div *ngIf="pedidoForm.submitted && !pedido.statusPedido" class="invalid-feedback">
            O status do pedido é obrigatório.
          </div>
        </div>

        <!-- Botões -->
        <div class="form-actions">
          <button type="submit" class="btn btn-save">Salvar</button>
          <button type="button" class="btn btn-cancel" (click)="cancelar()">Cancelar</button>
        </div>

      </form>
    </div>
  </div>
</div>
