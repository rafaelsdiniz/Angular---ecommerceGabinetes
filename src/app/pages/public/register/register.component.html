<div class="register-container">
  <div class="register-banner">
    <h1>Criar Conta</h1>
    <p>Junte-se a nós e comece sua jornada</p>
  </div>

  <div class="register-form-wrapper">
    <form (ngSubmit)="onSubmit()" class="register-form">
      <!-- Erro -->
      <div *ngIf="erro" class="erro-message">{{ erro }}</div>

      <!-- Nome -->
      <div class="form-group">
        <label for="nome">Nome Completo</label>
        <input id="nome" type="text" [(ngModel)]="nome" name="nome" placeholder="Digite seu nome completo" required />
      </div>

      <!-- Email -->
      <div class="form-group">
        <label for="email">Email</label>
        <input id="email" type="email" [(ngModel)]="email" name="email" placeholder="seu@email.com" required />
      </div>

      <!-- Telefone -->
      <div class="form-group">
        <label for="telefone">Telefone</label>
        <input id="telefone" type="tel" [(ngModel)]="telefone" name="telefone" placeholder="(11) 99999-9999" required />
      </div>

      <!-- CPF -->
      <div class="form-group">
        <label for="cpf">CPF</label>
        <input id="cpf" type="text" [(ngModel)]="cpf" name="cpf" placeholder="12345678901" required />
      </div>

      <!-- Senha -->
      <div class="form-group">
        <label for="senha">Senha</label>
        <div class="password-input-wrapper">
          <input
            id="senha"
            [type]="mostrarSenha ? 'text' : 'password'"
            [(ngModel)]="senha"
            name="senha"
            placeholder="Mínimo 6 caracteres"
            required
          />
          <button type="button" (click)="toggleMostrarSenha()" class="toggle-btn">
            {{ mostrarSenha ? "Ocultar" : "Mostrar" }}
          </button>
        </div>
        <div [ngClass]="'forca-' + getSenhaForca()" class="forca-indicador">
          <span>Força: {{ getSenhaForca() }}</span>
        </div>
      </div>

      <!-- Confirmar Senha -->
      <div class="form-group">
        <label for="confirmarSenha">Confirmar Senha</label>
        <div class="password-input-wrapper">
          <input
            id="confirmarSenha"
            [type]="mostrarConfirmarSenha ? 'text' : 'password'"
            [(ngModel)]="confirmarSenha"
            name="confirmarSenha"
            placeholder="Repita sua senha"
            required
          />
          <button type="button" (click)="toggleMostrarConfirmarSenha()" class="toggle-btn">
            {{ mostrarConfirmarSenha ? "Ocultar" : "Mostrar" }}
          </button>
        </div>
      </div>

      <!-- Endereços -->
      <div class="endereco-section">
        <h3>Endereços</h3>
        <div *ngFor="let endereco of enderecos; let i = index" class="endereco-group">
          <div class="endereco-title">Endereço {{ i + 1 }}</div>

          <div class="form-row">
            <div class="form-group full">
              <label>Bairro</label>
              <input type="text" [(ngModel)]="endereco.bairro" [name]="'bairro_' + i" required />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Número</label>
              <input type="text" [(ngModel)]="endereco.numero" [name]="'numero_' + i" required />
            </div>
            <div class="form-group">
              <label>Complemento</label>
              <input type="text" [(ngModel)]="endereco.complemento" [name]="'complemento_' + i" />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Cidade</label>
              <input type="text" [(ngModel)]="endereco.cidade" [name]="'cidade_' + i" required />
            </div>
            <div class="form-group">
              <label>Estado</label>
              <input type="text" [(ngModel)]="endereco.estado" [name]="'estado_' + i" maxlength="2" required />
            </div>
            <div class="form-group">
              <label>CEP</label>
              <input type="text" [(ngModel)]="endereco.cep" [name]="'cep_' + i" required />
            </div>
          </div>

          <button type="button" *ngIf="enderecos.length > 1" (click)="removerEndereco(i)" class="btn-remover-endereco">
            Remover Endereço
          </button>
        </div>

        <button type="button" (click)="adicionarEndereco()" class="btn-adicionar-endereco">
          + Adicionar Outro Endereço
        </button>
      </div>

      <!-- Termos -->
      <div class="form-group checkbox">
        <input id="termos" type="checkbox" [(ngModel)]="aceitouTermos" name="termos" required />
        <label for="termos">Aceito os termos de uso e política de privacidade</label>
      </div>

      <button type="submit" [disabled]="carregando" class="btn-submit">
        {{ carregando ? "Criando conta..." : "Criar Conta" }}
      </button>

      <p class="link-login">
        Já tem conta? <a routerLink="/login">Faça login aqui</a>
      </p>
    </form>
  </div>
</div>
