<div class="payment-container">
  <!-- Hero Section -->
  <section class="payment-hero">
    <div class="payment-hero-content">
      <h1 class="payment-title">Finalizar Pagamento</h1>
      <p class="payment-subtitle">Escolha a forma de pagamento mais conveniente</p>
    </div>
  </section>

  <!-- Success Message -->
  <div *ngIf="pagamentoRealizado" class="success-banner">
    <div class="success-content">
      <div class="success-icon">‚úì</div>
      <h2>Pagamento Realizado com Sucesso!</h2>
      <p>Seu pedido foi confirmado. Voc√™ receber√° um email de confirma√ß√£o em breve.</p>
      <a routerLink="/produtos" class="back-btn">Voltar para Loja</a>
    </div>
  </div>

  <!-- Payment Content -->
  <section class="payment-section" *ngIf="!pagamentoRealizado">
    <div class="payment-wrapper">
      <!-- Order Summary -->
      <div class="order-summary">
        <h2>Resumo do Pedido</h2>
        
        <div class="summary-item">
          <span>Gabinete Gamer RGB Pro</span>
          <span>R$ 450,00</span>
        </div>
        <div class="summary-item">
          <span>Gabinete Mid Tower Compact (x2)</span>
          <span>R$ 560,00</span>
        </div>

        <div class="summary-divider"></div>

        <div class="summary-total">
          <span>Total:</span>
          <span>R$ 1.010,00</span>
        </div>

        <div class="summary-info">
          <h3>Informa√ß√µes de Entrega</h3>
          <p><strong>Endere√ßo:</strong> Rua Principal, 123 - S√£o Paulo, SP</p>
          <p><strong>Frete:</strong> Gr√°tis</p>
          <p><strong>Prazo:</strong> 5-7 dias √∫teis</p>
        </div>
      </div>

      <!-- Payment Methods -->
      <div class="payment-methods">
        <h2>Forma de Pagamento</h2>

        <!-- Cart√£o de Cr√©dito -->
        <div class="method-option">
          <input 
            type="radio" 
            id="cartao" 
            value="cartao" 
            [(ngModel)]="metodoPagamento"
            name="metodo"
          />
          <label for="cartao" class="method-label">
            <span class="method-icon">üí≥</span>
            <span class="method-text">
              <strong>Cart√£o de Cr√©dito</strong>
              <small>Parcelado em at√© 12x</small>
            </span>
          </label>
        </div>

        <div *ngIf="metodoPagamento === 'cartao'" class="method-form">
          <div class="form-group">
            <label for="titular">Titular do Cart√£o</label>
            <input
              id="titular"
              type="text"
              placeholder="Nome completo"
              [(ngModel)]="dadosCartao.titular"
              [(ngModel)]="dadosCartao.titular"
            />
          </div>

          <div class="form-group">
            <label for="numero">N√∫mero do Cart√£o</label>
            <input
              id="numero"
              type="text"
              placeholder="0000 0000 0000 0000"
              [(ngModel)]="dadosCartao.numero"
              maxlength="19"
            />
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="mes">M√™s</label>
              <input
                id="mes"
                type="text"
                placeholder="MM"
                [(ngModel)]="dadosCartao.mes"
                maxlength="2"
              />
            </div>
            <div class="form-group">
              <label for="ano">Ano</label>
              <input
                id="ano"
                type="text"
                placeholder="AA"
                [(ngModel)]="dadosCartao.ano"
                maxlength="2"
              />
            </div>
            <div class="form-group">
              <label for="cvv">CVV</label>
              <input
                id="cvv"
                type="text"
                placeholder="123"
                [(ngModel)]="dadosCartao.cvv"
                maxlength="3"
              />
            </div>
          </div>
        </div>

        <!-- PIX -->
        <div class="method-option">
          <input 
            type="radio" 
            id="pix" 
            value="pix" 
            [(ngModel)]="metodoPagamento"
            name="metodo"
          />
          <label for="pix" class="method-label">
            <span class="method-icon">üí∞</span>
            <span class="method-text">
              <strong>PIX</strong>
              <small>Pagamento instant√¢neo</small>
            </span>
          </label>
        </div>

        <div *ngIf="metodoPagamento === 'pix'" class="method-form pix-form">
          <div class="pix-info">
            <p>Escaneie o QR Code ou copie a chave PIX abaixo para efetuar o pagamento:</p>
          </div>
          
          <div class="pix-qrcode">
            <div class="qrcode-placeholder">üì± QR Code</div>
          </div>

          <div class="pix-key">
            <p>Chave PIX:</p>
            <div class="key-box">
              <span class="key-text">00020126580014br.gov.bcb.pix...</span>
              <button (click)="copiarChavePIX()" class="copy-btn">Copiar</button>
            </div>
          </div>
        </div>

        <!-- Boleto -->
        <div class="method-option">
          <input 
            type="radio" 
            id="boleto" 
            value="boleto" 
            [(ngModel)]="metodoPagamento"
            name="metodo"
          />
          <label for="boleto" class="method-label">
            <span class="method-icon">üè¶</span>
            <span class="method-text">
              <strong>Boleto Banc√°rio</strong>
              <small>Vencimento em 3 dias</small>
            </span>
          </label>
        </div>

        <div *ngIf="metodoPagamento === 'boleto'" class="method-form">
          <div class="boleto-info">
            <p>Um boleto ser√° gerado ap√≥s a conclus√£o do pagamento.</p>
            <div class="form-group checkbox">
              <input
                id="boleto-confirm"
                type="checkbox"
                [(ngModel)]="dadosBoleto.confirmado"
              />
              <label for="boleto-confirm">
                Concordo em receber o boleto por email e realizarei o pagamento
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="payment-actions">
      <button 
        (click)="processarPagamento()"
        [disabled]="processando || !validarPagamento()"
        class="pay-btn"
      >
        <span *ngIf="!processando">Confirmar Pagamento</span>
        <span *ngIf="processando">Processando...</span>
      </button>
      <a routerLink="/carrinho" class="cancel-btn">Voltar ao Carrinho</a>
    </div>
  </section>
</div>
